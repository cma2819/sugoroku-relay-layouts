import{r as y,j as e,a}from"./render-upB0eyjL.js";const d=n=>{const c=n.getFullYear(),i=n.getMonth()+1,s=n.getDate(),l=n.getHours(),r=n.getMinutes();return`${c}-${String(i).padStart(2,"0")}-${String(s).padStart(2,"0")}T${String(l).padStart(2,"0")}:${String(r).padStart(2,"0")}`},A=()=>{const[n,c]=a.useState(""),[i,s]=a.useState(""),[l,r]=a.useState(""),[p,g]=a.useState("play"),S=nodecg.Replicant("timer"),o=nodecg.Replicant("timerInputs"),u=nodecg.Replicant("status");a.useEffect(()=>{S.on("change",t=>{c(t.timeDisplayText.down)}),u.on("change",t=>{g(t)}),nodecg.readReplicant("timerInputs",t=>{const h=new Date(Date.parse(t.startAt)),j=new Date(Date.parse(t.endAt));s(d(h)),r(d(j))})},[]);const x=t=>{s(t),o.value&&(o.value.startAt=new Date(Date.parse(t)).toISOString())},m=t=>{r(t),o.value&&(o.value.endAt=new Date(Date.parse(t)).toISOString())};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("label",{children:["残り時間：",e.jsx("input",{type:"text",readOnly:!0,value:n})]}),p==="play"&&e.jsx("button",{type:"button",onClick:()=>{u.value="stop"},children:"停止"}),p==="stop"&&e.jsx("button",{type:"button",onClick:()=>{u.value="play"},children:"再開"})]}),e.jsx("p",{children:"開始日時・終了日時を変更すると即座に反映されます"}),e.jsxs("label",{children:["開始日時：",e.jsx("input",{type:"datetime-local",value:i,onChange:t=>{x(t.currentTarget.value)}})]}),e.jsxs("label",{children:["終了日時：",e.jsx("input",{type:"datetime-local",value:l,onChange:t=>{m(t.currentTarget.value)}})]})]})};y(e.jsx(A,{}));
